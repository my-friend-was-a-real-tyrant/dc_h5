{"version":3,"sources":["webpack:///src/pages/boss.vue","webpack:///./src/pages/boss.vue?00cb","webpack:///./src/pages/boss.vue"],"names":["boss","data","telphone","code","wait","deviceType","downurl","mounted","this","set_device","send_BP","methods","start_wait","_this","t","setInterval","clearInterval","send_sms","handle_submit","listens","ua","isWeixin","isIos","myFunction","window","navigator","userAgent","toLowerCase","test","document","body","addEventListener","clearTimeout","setTimeout","scrollTo","top","left","behavior","u","isIOS","appVersion","indexOf","match","download","location","href","_this3","$axios","post","main_channel","$route","meta","appType","$get_time","app_version","push_str","query","phone","then","res","es","success","msg","fail","catch","error","type","_this4","pingtai","uniq","localStorage","getItem","setItem","md5_default","Math","random","toString","pages_boss","render","_vm","_h","$createElement","_c","_self","staticClass","style","bgcolor","start","end","attrs","src","slices","bg","alt","_v","directives","name","rawName","value","expression","placeholder","domProps","on","input","$event","target","composing","class","click","_s","btn","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.547dc303b4a1a7b2c281.js","sourcesContent":["<template>\n        <div class=\"boss\" :style=\"'background: linear-gradient('+$route.meta.bgcolor.start+','+$route.meta.bgcolor.end+');'\">\n                <div class=\"bg\">\n                        <img :src=\"$route.meta.slices.bg\" class=\"bg-img\" alt=\"\">\n                </div>\n                <div class=\"main\">\n                        <div class=\"panel\">\n                                <div class=\"input-box\">\n                                        <input type=\"text\" placeholder=\"请输入手机号\" v-model=\"telphone\">\n                                </div>\n                                <div class=\"input-box\">\n                                        <input type=\"text\" placeholder=\"请输入验证码\" v-model=\"code\">\n                                        <span class=\"send-btn\" :class=\"wait>0?'disabled':''\" @click=\"send_sms\">{{wait>0?'重新发送（'+wait+'秒）':'获取验证码'}}</span>\n                                </div>\n                                <div class=\"submit-btn\" @click=\"handle_submit\">\n                                        <img class=\"btn-img\" :src=\"$route.meta.slices.btn\" alt=\"\">\n                                        <span class=\"text\">立即拿钱</span>\n                                </div>\n                                \n                        </div>\n                </div>\n        </div>\n</template>\n<script>\nimport { Toast } from 'vant';\nimport 'vant/lib/toast/style'\nimport md5 from 'js-md5';\nexport default {\n        data() {\n                return {\n                        telphone:'',\n                        code:'',\n                        wait:0,\n                        deviceType:null,//设备类型，1=安卓；2=ios\n                        downurl:''\n                }\n        },\n        mounted() {\n                this.set_device();\n                this.send_BP(1);//发送埋点\n\n                //\n                //this.listens();\n        },\n        methods:{\n                start_wait() {\n                        this.wait = 60;\n                        var t = null;\n\n                        t = setInterval(()=>{\n                                if(this.wait>0) {\n                                        this.wait --\n                                } else {\n                                        clearInterval(t);\n                                }\n                        },1000)\n                },\n                //\n                send_sms() {\n                        this.handle_submit()\n                        return;\n\n                        if(this.wait>0) {\n                                Toast.fail(this.wait+'秒后可重新发送')\n                        } else {\n                                this.$axios.post('https://api.haoxianghuaqian.com/send.code?platform=3',{\n                                        main_channel:this.$route.meta.appType,\n                                        t:this.$get_time(),\n                                        app_version:'1.0',\n                                        push_str:this.$route.query.push_str ? this.$route.query.push_str : '',\n\n                                        phone:this.telphone,\n                                        type:1\n                                })\n                                .then((res)=>{\n                                        //console.log(res);\n                                        if(res.code == 200) {\n                                                this.start_wait();\n                                                Toast.success(res.msg);\n                                        } else {\n                                                Toast.fail(res.msg);\n                                        }\n                                })\n                        }\n                },\n                //修复微信Bug\n                listens() {\n                        (function () {\n                        let myFunction\n                        let isWXAndIos = isWeiXinAndIos()\n                        if (isWXAndIos) {\n                        document.body.addEventListener('focusin', () => {\n                        clearTimeout(myFunction)\n                        })\n                        document.body.addEventListener('focusout', () => {\n                        clearTimeout(myFunction)\n                        myFunction = setTimeout(function() {\n                                window.scrollTo({top: 0, left: 0, behavior: 'smooth'})\n                        }, 100)\n                        })\n                        }\n                        })()\n\n                        function isWeiXinAndIos () {\n                        let ua = '' + window.navigator.userAgent.toLowerCase()\n                        let isWeixin = /MicroMessenger/i.test(ua)\n                        let isIos = /\\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(ua)\n                        return isWeixin && isIos\n                        }\n                },\n                //判断设备\n                set_device() {\n                        var u = navigator.userAgent, app = navigator.appVersion;\n                        var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //g\n                        var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\n                        if(isIOS) {\n                                this.deviceType = 2;\n                        } else {\n                                this.deviceType = 1;\n                        }\n                },\n                download() {\n                        window.location.href = this.downurl;\n                },\n                handle_submit() {\n                        this.$axios.post('https://api.haoxianghuaqian.com/login?platform=3',{\n                                main_channel:this.$route.meta.appType,\n                                t:this.$get_time(),\n                                app_version:'1.0',\n                                push_str:this.$route.query.push_str ? this.$route.query.push_str : '',\n\n                                phone:this.telphone,\n                                code:this.code,\n                        })\n                        .then((res)=>{\n                                if(res.code == 200) {\n                                        Toast.success(res.msg);\n                                        this.send_BP(2);\n                                        \n                                } else {\n                                        Toast.fail(res.msg);\n                                }\n                        })\n                        .catch((error)=>{\n                                //console.log(error)\n                        })\n                },\n                //发送埋点，1=页面进入，2=点击下载\n                send_BP(type) {\n                        this.$axios.post('https://api.haoxianghuaqian.com/h5?platform=3',{\n                                //公共参数\n                                main_channel:this.$route.meta.appType,\n                                t:this.$get_time(),\n                                app_version:'1.0',\n                                push_str:this.$route.query.push_str ? this.$route.query.push_str : '',\n\n                                //业务参数\n                                type:type,\n                                pingtai:this.deviceType,\n                                uniq:this.uniq(),\n                        })\n                        .then((res)=>{\n                                if(res.code == 200 && 'downurl' in res.data) {\n                                        this.downurl = res.data.downurl;\n                                        if(type == 2) {\n                                                this.download();\n                                        }\n                                }\n                                //alert(this.downurl)\n                        })\n                },\n                uniq() {\n                        //return 1;\n                        if(localStorage.getItem('uniq')) {\n                                return localStorage.getItem('uniq');\n                        } else {\n                                localStorage.setItem('uniq',md5(Math.random().toString()));\n                                return localStorage.getItem('uniq');\n                        }\n                }\n        },\n        \n}\n</script>\n<style lang=\"less\">\n        .boss{\n                font-size: .5rem;\n                width:100%;\n                min-height: 100%;\n                height: auto;\n                overflow: hidden;\n                .bg{\n                        position: relative;\n                        img.bg-img{\n                                width:100%;\n                                vertical-align: top;\n                        }\n                }\n                .main{\n                        padding:0 .4rem;\n                        box-sizing: border-box;\n                        margin-top: -0.7rem;\n                        width:100%;\n                        position: relative;\n                        margin-bottom: .4rem;\n                        z-index: 9;\n                        .panel{\n                                width:100%;\n                                height:auto;\n                                box-sizing: border-box;\n                                background-color: #fff;\n                                border-radius: .1rem;\n                                padding:.4rem 0;\n                                .submit-btn{\n                                        position: relative;\n                                        width:100%;\n                                        padding:0 .2rem;\n                                        box-sizing: border-box;\n                                        .btn-img{\n                                                width:100%;\n                                        }\n                                        .text{\n                                                color:#fff;\n                                                font-size: .3rem;\n                                                position:absolute;\n                                                top:0;\n                                                left:0;\n                                                right:0;\n                                                bottom:.35rem;\n                                                display: flex;\n                                                align-items: center;\n                                                justify-content: center;\n                                        }\n                                }\n                                .input-box{\n                                        display: flex;\n                                        height: 1rem;\n                                        background-color: #f8f8f8;\n                                        border-radius: 1rem;\n                                        margin:0 .4rem;\n                                        margin-bottom: .24rem;\n                                        padding:0 .4rem;\n                                        input{\n                                                flex:1;\n                                                display: block;\n                                                background-color: rgba(0,0,0,0);\n                                                outline: none;\n                                                font-size: .24rem;\n                                                border:0;\n                                        }\n                                        input::-webkit-input-placeholder{\n                                        color:#ccc;\n                                        }\n                                        input::-moz-placeholder{   /* Mozilla Firefox 19+ */\n                                        color:#ccc;\n                                        }\n                                        input:-moz-placeholder{    /* Mozilla Firefox 4 to 18 */\n                                        color:#ccc;\n                                        }\n                                        input:-ms-input-placeholder{  /* Internet Explorer 10-11 */ \n                                        color:#ccc;\n                                        }\n                                        .send-btn{\n                                                padding-left: .1rem;\n                                                font-size: .24rem;\n                                                color:#0FD8B9;\n                                                line-height: 1rem;\n                                        }\n                                        .send-btn.disabled{\n                                                color:#aaa;\n                                        }\n                                }\n                                \n                        }\n                }\n        }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/boss.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boss\",style:('background: linear-gradient('+_vm.$route.meta.bgcolor.start+','+_vm.$route.meta.bgcolor.end+');')},[_c('div',{staticClass:\"bg\"},[_c('img',{staticClass:\"bg-img\",attrs:{\"src\":_vm.$route.meta.slices.bg,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.telphone),expression:\"telphone\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},domProps:{\"value\":(_vm.telphone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.telphone=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"send-btn\",class:_vm.wait>0?'disabled':'',on:{\"click\":_vm.send_sms}},[_vm._v(_vm._s(_vm.wait>0?'重新发送（'+_vm.wait+'秒）':'获取验证码'))])]),_vm._v(\" \"),_c('div',{staticClass:\"submit-btn\",on:{\"click\":_vm.handle_submit}},[_c('img',{staticClass:\"btn-img\",attrs:{\"src\":_vm.$route.meta.slices.btn,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"立即拿钱\")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3349d471\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/boss.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3349d471\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./boss.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./boss.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./boss.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3349d471\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./boss.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/boss.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}