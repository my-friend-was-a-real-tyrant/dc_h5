{"version":3,"sources":["webpack:///src/pages/boss.vue","webpack:///./src/pages/boss.vue?7e16","webpack:///./src/pages/boss.vue"],"names":["boss","watch","$route","handler","n","o","window","location","reload","deep","data","telephone","code","channelCode","wait","deviceType","downloadUrl","mounted","this","query","setDevice","send_data","get_download_link","document","querySelectorAll","Array","prototype","forEach","call","dom","pageDom","onblur","body","scrollTop","methods","download","href","type","appType","meta","$axios","get","u","navigator","userAgent","isIOS","appVersion","indexOf","match","_this","params","device","then","res","find","replace","RegExp","resdata","JSON","parse","aes","Decrypt","console","log","url","es","fail","msg","handle_submit","_this2","length","vCode","uuid","isreg","success","catch","err","start_timing","_this3","t","setInterval","clearInterval","send_sms","_this4","loading","mask","message","clear","pages_boss","render","_vm","_h","$createElement","_c","_self","staticClass","style","bgcolor","start","end","attrs","src","slices","bg","alt","_v","directives","name","rawName","value","expression","placeholder","domProps","on","input","$event","target","composing","class","click","_s","btn","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.0d8d37ba4756b22b7e9c.js","sourcesContent":["<template>\n        <div class=\"boss\" :style=\"'background: linear-gradient('+$route.meta.bgcolor.start+','+$route.meta.bgcolor.end+');'\">\n                <div class=\"bg\">\n                        <img :src=\"$route.meta.slices.bg\" class=\"bg-img\" alt=\"\">\n                </div>\n                <div class=\"main\">\n                        <div class=\"panel\">\n                                <div class=\"input-box\">\n                                        <input type=\"text\" placeholder=\"请输入手机号\" v-model=\"telephone\">\n                                </div>\n                                <div class=\"input-box\">\n                                        <input type=\"text\" placeholder=\"请输入验证码\" v-model=\"code\">\n                                        <span class=\"send-btn\" :class=\"wait>0?'disabled':''\" @click=\"send_sms\">{{wait>0?'重新发送（'+wait+'秒）':'获取验证码'}}</span>\n                                </div>\n                                <div class=\"submit-btn\" @click=\"handle_submit\">\n                                        <img class=\"btn-img\" :src=\"$route.meta.slices.btn\" alt=\"\">\n                                        <span class=\"text\">立即拿钱</span>\n                                </div>\n                        </div>\n                </div>\n        </div>\n</template>\n<script>\nimport { Toast } from 'vant';\nimport 'vant/lib/toast/style'\nimport Crypt from '@/aes.js';\nexport default {\n        watch:{\n                '$route':{\n                        handler(n,o) {\n                                window.location.reload()\n                        },\n                        deep:true\n                }\n        },\n        data() {\n                return {\n                        telephone:'',\n                        code:'',\n                        channelCode:'',\n                        wait:0,\n                        deviceType:null,\n                        downloadUrl:''\n                }\n        },\n        mounted() {\n                this.channelCode = this.$route.query.channelCode\n                this.setDevice()\n                this.send_data(0);\n                this.get_download_link();\n                var n = document.querySelectorAll('input,textarea');\nArray.prototype.forEach.call(n, function(dom) {        \n    var pageDom = 5;\n    dom.onblur = function() {\n    document.body.scrollTop = ++pageDom;\n    };\n});\n        },\n        methods:{\n                download() {\n                        window.location.href = this.downloadUrl;\n                },\n                send_data(type) {\n                        let data = {\n                                appType:this.$route.meta.appType,\n                                channelCode:this.channelCode,\n                                type:type\n                        };\n                        this.$axios.get('/api/user/traceChannel',data)\n                },\n                setDevice() {\n                        var u = navigator.userAgent, app = navigator.appVersion;\n                        var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //g\n                        var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\n                        if(isIOS) {\n                                this.deviceType = 0;\n                        } else {\n                                this.deviceType = 1;\n                        }\n                },\n                get_download_link() {\n                        this.$axios.get('/api/appVersion/getAppVersion',{\n                                params:{\n                                        appType:this.$route.meta.appType,\n                                        device:this.deviceType\n                                },\n                        })\n                        .then((res)=>{\n                                if(res.code==0) {\n                                        let find = res.data.replace(new RegExp(/\\n/,\"gm\"),'');\n                                        let resdata = JSON.parse(Crypt.Decrypt(find))\n                                        console.log(resdata)\n                                        this.downloadUrl = resdata.url || '';\n                                } else {\n                                        Toast.fail(res.msg);\n                                }\n                        })\n                },\n                handle_submit() {\n                        if(this.telephone.length!=11) {\n                                Toast.fail('请先输入一个正确的手机号')\n                                return;\n                        } else if(this.code.length==0) {\n                                Toast.fail('请先输入验证码')\n                                return\n                        }\n                        let data = {\n                                appType:this.$route.meta.appType,\n                                telephone:this.telephone,\n                                vCode:this.code,\n                                uuid:'1',\n                                channelCode:this.channelCode,\n                                isreg:0\n                        };\n\n                        this.$axios.get('/api/user/register',{params:data})\n                        .then((res)=>{\n                                if(res.code == 0) {\n                                        Toast.success(res.msg)\n                                        this.send_data(1);\n                                        this.download()\n                                } else {\n                                        Toast.fail(res.msg);\n                                }\n                        })\n                        .catch((err)=>{\n                                Toast.fail('网络错误');\n                        })\n                },\n                start_timing() {\n                        var t = null;\n                        t = setInterval(()=>{\n                                if(this.wait == 0) {\n                                        clearInterval(t)\n                                } else {\n                                        this.wait --;\n                                }\n                        },1000)\n                },\n                send_sms() {\n                        if(this.telephone.length!=11) {\n                                Toast.fail('请先输入一个正确的手机号')\n                                return;\n                        }\n                        if(this.wait>0) {\n                                Toast.fail('等待'+this.wait+'秒可重新发送')\n                                return\n                        }\n                        let data  ={\n                                appType:this.$route.meta.appType,\n                                telephone:this.telephone\n                        }\n                        this.console('发送验证码',data)\n                        Toast.loading({\n                                mask: true,\n                                message: '发送中...'\n                        });\n                        this.$axios.get('/api/user/sendVcode',{\n                                params:data\n                        })\n                        .then((res)=>{\n                                Toast.clear()\n                                if(res.code == 0) {\n                                        Toast.success(res.msg)\n                                        this.wait = 60;\n                                        this.start_timing()\n                                } else {\n                                        Toast.fail(res.msg)\n                                }\n                        })\n                        .catch((err)=>{\n                                Toast.clear()\n                                Toast.fail('发送失败，网络错误')\n                        })\n                }\n        }\n}\n</script>\n<style lang=\"less\">\n        .boss{\n                font-size: .5rem;\n                width:100%;\n                min-height: 100%;\n                height: auto;\n                overflow: hidden;\n                .bg{\n                        position: relative;\n                        img.bg-img{\n                                width:100%;\n                                vertical-align: top;\n                        }\n                }\n                .main{\n                        padding:0 .4rem;\n                        box-sizing: border-box;\n                        margin-top: -0.7rem;\n                        width:100%;\n                        position: relative;\n                        margin-bottom: .4rem;\n                        z-index: 9;\n                        .panel{\n                                width:100%;\n                                height:auto;\n                                box-sizing: border-box;\n                                background-color: #fff;\n                                border-radius: .1rem;\n                                padding:.4rem 0;\n                                .submit-btn{\n                                        position: relative;\n                                        width:100%;\n                                        padding:0 .2rem;\n                                        box-sizing: border-box;\n                                        .btn-img{\n                                                width:100%;\n                                        }\n                                        .text{\n                                                color:#fff;\n                                                font-size: .3rem;\n                                                position:absolute;\n                                                top:0;\n                                                left:0;\n                                                right:0;\n                                                bottom:.35rem;\n                                                display: flex;\n                                                align-items: center;\n                                                justify-content: center;\n                                        }\n                                }\n                                .input-box{\n                                        display: flex;\n                                        height: 1rem;\n                                        background-color: #f8f8f8;\n                                        border-radius: 1rem;\n                                        margin:0 .4rem;\n                                        margin-bottom: .24rem;\n                                        padding:0 .4rem;\n                                        input{\n                                                flex:1;\n                                                display: block;\n                                                background-color: rgba(0,0,0,0);\n                                                outline: none;\n                                                font-size: .24rem;\n                                                border:0;\n                                        }\n                                        input::-webkit-input-placeholder{\n                                        color:#ccc;\n                                        }\n                                        input::-moz-placeholder{   /* Mozilla Firefox 19+ */\n                                        color:#ccc;\n                                        }\n                                        input:-moz-placeholder{    /* Mozilla Firefox 4 to 18 */\n                                        color:#ccc;\n                                        }\n                                        input:-ms-input-placeholder{  /* Internet Explorer 10-11 */ \n                                        color:#ccc;\n                                        }\n                                        .send-btn{\n                                                padding-left: .1rem;\n                                                font-size: .24rem;\n                                                color:#0FD8B9;\n                                                line-height: 1rem;\n                                        }\n                                        .send-btn.disabled{\n                                                color:#aaa;\n                                        }\n                                }\n                                \n                        }\n                }\n        }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/boss.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boss\",style:('background: linear-gradient('+_vm.$route.meta.bgcolor.start+','+_vm.$route.meta.bgcolor.end+');')},[_c('div',{staticClass:\"bg\"},[_c('img',{staticClass:\"bg-img\",attrs:{\"src\":_vm.$route.meta.slices.bg,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.telephone),expression:\"telephone\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},domProps:{\"value\":(_vm.telephone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.telephone=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"send-btn\",class:_vm.wait>0?'disabled':'',on:{\"click\":_vm.send_sms}},[_vm._v(_vm._s(_vm.wait>0?'重新发送（'+_vm.wait+'秒）':'获取验证码'))])]),_vm._v(\" \"),_c('div',{staticClass:\"submit-btn\",on:{\"click\":_vm.handle_submit}},[_c('img',{staticClass:\"btn-img\",attrs:{\"src\":_vm.$route.meta.slices.btn,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"立即拿钱\")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1eb00d42\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/boss.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1eb00d42\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./boss.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./boss.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./boss.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1eb00d42\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./boss.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/boss.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}