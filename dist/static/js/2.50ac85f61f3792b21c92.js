webpackJsonp([2],{Fjfm:function(t,e){},hOGd:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Fd2+"),i=(s("GKy3"),s("NC6I")),n=s.n(i),o={data:function(){return{telphone:"",code:"",wait:0,deviceType:null,downurl:"",status:0,showRegd:!1,submit_res_data:null,show_download:!1}},mounted:function(){this.set_device(),this.send_BP(1),this.listens()},methods:{start_wait:function(){var t=this;this.wait=60;var e=null;e=setInterval(function(){t.wait>0?t.wait--:clearInterval(e)},1e3)},show_success:function(){},send_sms:function(){this.handle_submit()},listens:function(){var t,e,s,a;a=void 0,t=""+window.navigator.userAgent.toLowerCase(),e=/MicroMessenger/i.test(t),s=/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(t),e&&s&&(document.body.addEventListener("focusin",function(){clearTimeout(a)}),document.body.addEventListener("focusout",function(){clearTimeout(a),a=setTimeout(function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},100)}))},set_device:function(){var t=navigator.userAgent,e=(navigator.appVersion,t.indexOf("Android")>-1||t.indexOf("Linux"),!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/));this.deviceType=e?2:1},download:function(){this.show_download=!0,this.showRegd=!1,window.location.href=this.downurl},handle_submit:function(){var t=this;this.$axios.post("https://api.haoxianghuaqian.com/login?platform=3",{main_channel:this.$route.meta.appType,t:this.$get_time(),app_version:"1.0",push_str:this.$route.query.push_str?this.$route.query.push_str:"",phone:this.telphone,code:this.code}).then(function(e){200==e.code?(t.send_BP(2),0==e.data.is_new?(t.submit_res_data=e.data,t.showRegd=!0):(a.a.success(e.msg),t.download())):a.a.fail(e.msg)}).catch(function(t){})},send_BP:function(t){var e=this;this.$axios.post("https://api.haoxianghuaqian.com/h5?platform=3",{main_channel:this.$route.meta.appType,t:this.$get_time(),app_version:"1.0",push_str:this.$route.query.push_str?this.$route.query.push_str:"",type:t,pingtai:this.deviceType,uniq:this.uniq()}).then(function(t){e.status=t.data.status,200==t.code&&"downurl"in t.data&&(e.downurl=t.data.downurl)})},uniq:function(){return localStorage.getItem("uniq")?localStorage.getItem("uniq"):(localStorage.setItem("uniq",n()(Math.random().toString())),localStorage.getItem("uniq"))}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.status,expression:"status == 1"}],staticClass:"boss",style:"background: linear-gradient("+t.$route.meta.bgcolor.start+","+t.$route.meta.bgcolor.end+");"},[s("div",{staticClass:"bg"},[s("img",{staticClass:"bg-img",attrs:{src:t.$route.meta.slices.bg,alt:""}})]),t._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"panel"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.telphone,expression:"telphone"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.telphone},on:{input:function(e){e.target.composing||(t.telphone=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),s("span",{staticClass:"send-btn",class:t.wait>0?"disabled":"",on:{click:t.send_sms}},[t._v(t._s(t.wait>0?"重新发送（"+t.wait+"秒）":"获取验证码"))])]),t._v(" "),s("div",{staticClass:"submit-btn",on:{click:t.handle_submit}},[s("img",{staticClass:"btn-img",attrs:{src:t.$route.meta.slices.btn,alt:""}}),t._v(" "),s("span",{staticClass:"text"},[t._v("立即拿钱")])])])]),t._v(" "),t.showRegd?s("div",{staticClass:"dialog",on:{click:function(e){t.showRegd=!1}}},[s("div",{staticClass:"panel",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"title"},[t._v("温馨提示")]),t._v(" "),s("div",{staticClass:"content"},[t._v("\n                                "+t._s(t.submit_res_data.msg)+"\n                        ")]),t._v(" "),s("div",{staticClass:"download-btn",style:"box-shadow:0 .1rem .3rem "+t.$route.meta.bgcolor.start+"99;background: linear-gradient(to right,"+t.$route.meta.bgcolor.start+","+t.$route.meta.bgcolor.end+");",on:{click:function(e){return t.download()}}},[t._v("\n                                立即下载\n                        ")])])]):t._e(),t._v(" "),t.show_download?s("div",{staticClass:"dialog",on:{click:function(e){t.show_download=!1}}},[s("div",{staticClass:"panel",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"title"},[t._v("温馨提示")]),t._v(" "),s("div",{staticClass:"content"},[t._v("\n                                注册成功！正在下载中！\n                        ")])])]):t._e()])},staticRenderFns:[]};var r=s("VU/8")(o,c,!1,function(t){s("Fjfm")},null,null);e.default=r.exports}});
//# sourceMappingURL=2.50ac85f61f3792b21c92.js.map