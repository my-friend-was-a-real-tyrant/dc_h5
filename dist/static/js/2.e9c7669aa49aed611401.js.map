{"version":3,"sources":["webpack:///src/pages/yixiang.vue","webpack:///./src/pages/yixiang.vue?9677","webpack:///./src/pages/yixiang.vue"],"names":["yixiang","watch","$route","handler","n","o","window","location","reload","deep","data","telephone","code","channelCode","wait","deviceType","downloadUrl","mounted","ua","isWeixin","isIos","myFunction","this","setDevice","query","channelcode","send_data","navigator","userAgent","toLowerCase","test","document","body","addEventListener","clearTimeout","setTimeout","scrollTo","top","left","behavior","get_download_link","methods","download","href","type","appType","meta","$axios","get","params","u","isIOS","appVersion","indexOf","match","_this","device","then","res","find","replace","RegExp","resdata","JSON","parse","aes","Decrypt","console","log","url","es","fail","msg","handle_submit","_this2","length","vCode","uuid","isreg","success","catch","err","start_timing","_this3","t","setInterval","clearInterval","send_sms","_this4","loading","mask","message","clear","pages_yixiang","render","_vm","_h","$createElement","_c","_self","staticClass","style","bgcolor","start","end","attrs","src","slices","bg","alt","_v","directives","name","rawName","value","expression","placeholder","domProps","on","input","$event","target","composing","class","click","_s","btn","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.e9c7669aa49aed611401.js","sourcesContent":["<template>\n        <div class=\"boss\" :style=\"'background: linear-gradient('+$route.meta.bgcolor.start+','+$route.meta.bgcolor.end+');'\">\n                <div class=\"bg\">\n                        <img :src=\"$route.meta.slices.bg\" class=\"bg-img\" alt=\"\">\n                </div>\n                <div class=\"main\">\n                        <div class=\"panel\">\n                                <div class=\"input-box\">\n                                        <input type=\"text\" placeholder=\"请输入手机号\" v-model=\"telephone\">\n                                </div>\n                                <div class=\"input-box\">\n                                        <input type=\"text\" placeholder=\"请输入验证码\" v-model=\"code\">\n                                        <span class=\"send-btn-3\" :class=\"wait>0?'disabled':''\" @click=\"send_sms\">{{wait>0?'重新发送（'+wait+'秒）':'获取验证码'}}</span>\n                                </div>\n                                <div class=\"submit-btn\" @click=\"handle_submit\">\n                                        <img class=\"btn-img\" :src=\"$route.meta.slices.btn\" alt=\"\">\n                                        <span class=\"text\">立即拿钱</span>\n                                </div>\n                        </div>\n                </div>\n        </div>\n</template>\n<script>\nimport { Toast } from 'vant';\nimport 'vant/lib/toast/style'\nimport Crypt from '@/aes.js';\nexport default {\n        watch:{\n                '$route':{\n                        handler(n,o) {\n                                window.location.reload()\n                        },\n                        deep:true\n                }\n        },\n        data() {\n                return {\n                        telephone:'',\n                        code:'',\n                        channelCode:'',\n                        wait:0,\n                        deviceType:null,\n                        downloadUrl:''\n                }\n        },\n        mounted() {\n                this.setDevice()\n                this.channelCode = this.$route.query.channelCode || this.$route.query.channelcode\n                \n                this.send_data(0);//发送PV埋点\n                \n                (function () {\n                let myFunction\n                let isWXAndIos = isWeiXinAndIos()\n                if (isWXAndIos) {\n                document.body.addEventListener('focusin', () => {\n                clearTimeout(myFunction)\n                })\n                document.body.addEventListener('focusout', () => {\n                clearTimeout(myFunction)\n                myFunction = setTimeout(function() {\n                        window.scrollTo({top: 0, left: 0, behavior: 'smooth'})\n                }, 100)\n                })\n                }\n                })()\n\n                function isWeiXinAndIos () {\n                        let ua = '' + window.navigator.userAgent.toLowerCase()\n                        let isWeixin = /MicroMessenger/i.test(ua)\n                        let isIos = /\\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(ua)\n                        return isWeixin && isIos\n                }\n                this.get_download_link();\n        },\n        methods:{\n                download() {\n                        window.location.href = this.downloadUrl;\n                },\n                send_data(type) {\n                        let data = {\n                                appType:this.$route.meta.appType,\n                                channelCode:this.channelCode,\n                                type:type\n                        };\n                        this.$axios.get('/api/user/traceChannel',{params:data})\n                },\n                setDevice() {\n                        var u = navigator.userAgent, app = navigator.appVersion;\n                        var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //g\n                        var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\n                        if(isIOS) {\n                                this.deviceType = 0;\n                        } else {\n                                this.deviceType = 1;\n                        }\n                },\n                get_download_link() {\n                        this.$axios.get('/api/appVersion/getAppVersion',{\n                                params:{\n                                        appType:this.$route.meta.appType,\n                                        device:this.deviceType\n                                },\n                        })\n                        .then((res)=>{\n                                if(res.code==0) {\n                                        let find = res.data.replace(new RegExp(/\\n/,\"gm\"),'');\n                                        let resdata = JSON.parse(Crypt.Decrypt(find))\n                                        console.log(resdata)\n                                        this.downloadUrl = resdata.url || '';\n                                } else {\n                                        Toast.fail(res.msg);\n                                }\n                        })\n                },\n                handle_submit() {\n\n                        if(this.telephone.length!=11) {\n                                Toast.fail('请先输入一个正确的手机号')\n                                return;\n                        } else if(this.code.length==0) {\n                                Toast.fail('请先输入验证码')\n                                return\n                        }\n                        let data = {\n                                appType:this.$route.meta.appType,\n                                telephone:this.telephone,\n                                vCode:this.code,\n                                uuid:'1',\n                                channelCode:this.channelCode,\n                                isreg:0\n                        };\n\n                        this.$axios.get('/api/user/register',{params:data})\n                        .then((res)=>{\n                                if(res.code == 0) {\n                                        Toast.success(res.msg)\n                                        this.send_data(1);\n                                        this.download()\n                                } else {\n                                        Toast.fail(res.msg);\n                                }\n                        })\n                        .catch((err)=>{\n                                Toast.fail('网络错误');\n                        })\n                },\n                start_timing() {\n                        var t = null;\n                        t = setInterval(()=>{\n                                if(this.wait == 0) {\n                                        clearInterval(t)\n                                } else {\n                                        this.wait --;\n                                }\n                        },1000)\n                },\n                send_sms() {\n                        if(this.telephone.length!=11) {\n                                Toast.fail('请先输入一个正确的手机号')\n                                return;\n                        }\n                        if(this.wait>0) {\n                                Toast.fail('等待'+this.wait+'秒可重新发送')\n                                return\n                        }\n                        let data  ={\n                                appType:this.$route.meta.appType,\n                                telephone:this.telephone\n                        }\n                        this.console('发送验证码',data)\n                        Toast.loading({\n                                mask: true,\n                                message: '发送中...'\n                        });\n                        this.$axios.get('/api/user/sendVcode',{\n                                params:data\n                        })\n                        .then((res)=>{\n                                Toast.clear()\n                                if(res.code == 0) {\n                                        Toast.success(res.msg)\n                                        this.wait = 60;\n                                        this.start_timing()\n                                } else {\n                                        Toast.fail(res.msg)\n                                }\n                        })\n                        .catch((err)=>{\n                                Toast.clear()\n                                Toast.fail('发送失败，网络错误')\n                        })\n                }\n        }\n}\n</script>\n<style lang=\"less\">\n        .boss{\n                font-size: .5rem;\n                width:100%;\n                min-height: 100%;\n                height: auto;\n                overflow: hidden;\n                .bg{\n                        position: relative;\n                        img.bg-img{\n                                width:100%;\n                                vertical-align: top;\n                        }\n                }\n                .main{\n                        padding:0 .4rem;\n                        box-sizing: border-box;\n                        margin-top: -0.7rem;\n                        width:100%;\n                        position: relative;\n                        margin-bottom: .4rem;\n                        z-index: 9;\n                        .panel{\n                                width:100%;\n                                height:auto;\n                                box-sizing: border-box;\n                                background-color: #fff;\n                                border-radius: .3rem;\n                                \n                                padding:.4rem 0;\n                                .submit-btn{\n                                        position: relative;\n                                        width:100%;\n                                        padding:0 .2rem;\n                                        box-sizing: border-box;\n                                        .btn-img{\n                                                width:100%;\n                                        }\n                                        .text{\n                                                color:#fff;\n                                                font-size: .3rem;\n                                                position:absolute;\n                                                top:0;\n                                                left:0;\n                                                right:0;\n                                                bottom:.35rem;\n                                                display: flex;\n                                                align-items: center;\n                                                justify-content: center;\n                                        }\n                                }\n                                .input-box{\n                                        display: flex;\n                                        height: 1rem;\n                                        background-color: #f8f8f8;\n                                        border-radius: 1rem;\n                                        margin:0 .4rem;\n                                        margin-bottom: .24rem;\n                                        padding:0 .4rem;\n                                        input{\n                                                flex:1;\n                                                display: block;\n                                                background-color: rgba(0,0,0,0);\n                                                outline: none;\n                                                font-size: .24rem;\n                                                border:0;\n                                        }\n                                        input::-webkit-input-placeholder{\n                                        color:#ccc;\n                                        }\n                                        input::-moz-placeholder{   /* Mozilla Firefox 19+ */\n                                        color:#ccc;\n                                        }\n                                        input:-moz-placeholder{    /* Mozilla Firefox 4 to 18 */\n                                        color:#ccc;\n                                        }\n                                        input:-ms-input-placeholder{  /* Internet Explorer 10-11 */ \n                                        color:#ccc;\n                                        }\n                                        .send-btn-3{\n                                                padding-left: .1rem;\n                                                font-size: .24rem;\n                                                color:#FF9392;\n                                                line-height: 1rem;\n                                        }\n                                        .send-btn.disabled{\n                                                color:#aaa;\n                                        }\n                                }\n                                \n                        }\n                }\n        }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/yixiang.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boss\",style:('background: linear-gradient('+_vm.$route.meta.bgcolor.start+','+_vm.$route.meta.bgcolor.end+');')},[_c('div',{staticClass:\"bg\"},[_c('img',{staticClass:\"bg-img\",attrs:{\"src\":_vm.$route.meta.slices.bg,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.telephone),expression:\"telephone\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},domProps:{\"value\":(_vm.telephone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.telephone=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"send-btn-3\",class:_vm.wait>0?'disabled':'',on:{\"click\":_vm.send_sms}},[_vm._v(_vm._s(_vm.wait>0?'重新发送（'+_vm.wait+'秒）':'获取验证码'))])]),_vm._v(\" \"),_c('div',{staticClass:\"submit-btn\",on:{\"click\":_vm.handle_submit}},[_c('img',{staticClass:\"btn-img\",attrs:{\"src\":_vm.$route.meta.slices.btn,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"立即拿钱\")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77be7809\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/yixiang.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77be7809\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./yixiang.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./yixiang.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./yixiang.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77be7809\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./yixiang.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/yixiang.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}